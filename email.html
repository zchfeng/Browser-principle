<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>é‚®ä»¶æ¨¡æ¿ç¼–è¾‘å™¨</title>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      line-height: 1.6;
      color: #333;
      background: linear-gradient(135deg, #f5f7fa 0%, #e4efe9 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .container {
      max-width: 1400px;
      margin: 0 auto;
      background: white;
      border-radius: 12px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
      overflow: hidden;
    }

    header {
      background: #2c7744;
      color: white;
      padding: 20px;
      text-align: center;
    }

    h1 {
      font-weight: 500;
      font-size: 28px;
      margin-bottom: 8px;
    }

    .description {
      opacity: 0.9;
      max-width: 600px;
      margin: 0 auto;
    }

    .editor-container {
      display: flex;
      flex-direction: column;
      padding: 20px;
    }

    @media (min-width: 992px) {
      .editor-container {
        flex-direction: row;
      }
    }

    .editor-panel,
    .preview-panel {
      flex: 1;
      padding: 20px;
    }

    .editor-panel {
      border-right: 1px solid #eaeaea;
    }

    .panel-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
      padding-bottom: 10px;
      border-bottom: 2px solid #2c7744;
    }

    .panel-title {
      font-size: 18px;
      font-weight: 500;
      color: #2c7744;
    }

    .toolbar {
      display: flex;
      flex-wrap: wrap;
      gap: 5px;
      margin-bottom: 15px;
      padding: 12px;
      background: #f8f9fa;
      border-radius: 6px;
      border: 1px solid #eaeaea;
    }

    .toolbar button {
      padding: 8px 12px;
      background: white;
      border: 1px solid #ddd;
      border-radius: 4px;
      cursor: pointer;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .toolbar button:hover {
      background: #2c7744;
      color: white;
      border-color: #2c7744;
    }

    .toolbar select {
      padding: 8px;
      border: 1px solid #ddd;
      border-radius: 4px;
      background: white;
    }

    .editor-content {
      min-height: 300px;
      padding: 20px;
      border: 1px solid #ddd;
      border-radius: 6px;
      background: white;
      overflow-y: auto;
    }

    #emailEditor {
      outline: none;
      min-height: 250px;
      padding: 10px;
      border: 1px dashed #ccc;
    }

    #emailEditor:focus {
      border-color: #2c7744;
    }

    .preview-content {
      min-height: 300px;
      padding: 20px;
      border: 1px solid #ddd;
      border-radius: 6px;
      background: white;
      overflow-y: auto;
    }

    .email-preview {
      font-family: Arial, sans-serif;
      line-height: 1.6;
      color: #333;
      max-width: 600px;
      margin: 0 auto;
    }

    .compatibility-info {
      background: #f8f9fa;
      padding: 15px;
      border-radius: 6px;
      margin-top: 20px;
      border-left: 4px solid #2c7744;
    }

    .compatibility-info h3 {
      margin-bottom: 10px;
      color: #2c7744;
    }

    .compatibility-list {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 10px;
    }

    .compatibility-item {
      display: flex;
      align-items: center;
      gap: 5px;
      background: #e9f5ee;
      padding: 5px 10px;
      border-radius: 4px;
      font-size: 14px;
    }

    .action-buttons {
      display: flex;
      justify-content: center;
      gap: 15px;
      margin-top: 25px;
      padding: 20px;
      border-top: 1px solid #eee;
    }

    .btn {
      padding: 12px 25px;
      border: none;
      border-radius: 6px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 500;
      transition: all 0.3s;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .btn-primary {
      background: #2c7744;
      color: white;
    }

    .btn-primary:hover {
      background: #246235;
    }

    .btn-secondary {
      background: #6c757d;
      color: white;
    }

    .btn-secondary:hover {
      background: #5a6268;
    }

    .mobile-preview-options {
      display: flex;
      gap: 10px;
    }

    .mobile-option {
      padding: 6px 12px;
      background: #e9ecef;
      border-radius: 4px;
      font-size: 14px;
      cursor: pointer;
    }

    .mobile-option.active {
      background: #2c7744;
      color: white;
    }

    .tag-selector {
      margin-top: 15px;
    }

    .tag-selector select {
      padding: 10px;
      width: 100%;
      border: 1px solid #ddd;
      border-radius: 6px;
      background: white;
    }

    footer {
      text-align: center;
      padding: 20px;
      color: #6c757d;
      font-size: 14px;
      background: #f8f9fa;
    }

    .icon {
      width: 16px;
      height: 16px;
      display: inline-block;
    }
  </style>
</head>

<body>
  <div class="container">
    <header>
      <h1>é‚®ä»¶æ¨¡æ¿ç¼–è¾‘å™¨</h1>
      <p class="description">åˆ›å»ºå…¼å®¹å„ç§é‚®ä»¶å®¢æˆ·ç«¯çš„ä¸“ä¸šé‚®ä»¶æ¨¡æ¿ - æ— éœ€ç¼–å†™ä»£ç </p>
    </header>

    <div class="editor-container">
      <div class="editor-panel">
        <div class="panel-header">
          <div class="panel-title">ç¼–è¾‘é‚®ä»¶å†…å®¹</div>
        </div>

        <div class="toolbar">
          <button onclick="formatText('bold')" title="åŠ ç²—">
            <span class="icon">B</span> åŠ ç²—
          </button>
          <button onclick="formatText('italic')" title="æ–œä½“">
            <span class="icon">I</span> æ–œä½“
          </button>
          <button onclick="formatText('underline')" title="ä¸‹åˆ’çº¿">
            <span class="icon">U</span> ä¸‹åˆ’çº¿
          </button>
          <button onclick="insertLink()" title="æ’å…¥é“¾æ¥">
            <span class="icon">ğŸ”—</span> é“¾æ¥
          </button>
          <button onclick="formatText('insertUnorderedList')" title="é¡¹ç›®ç¬¦å·">
            <span class="icon">â€¢</span> åˆ—è¡¨
          </button>
          <select onchange="formatText('formatBlock', this.value)">
            <option value="">æ®µè½æ ·å¼</option>
            <option value="h1">æ ‡é¢˜ 1</option>
            <option value="h2">æ ‡é¢˜ 2</option>
            <option value="h3">æ ‡é¢˜ 3</option>
            <option value="p">æ®µè½</option>
          </select>
          <select onchange="formatText('fontName', this.value)">
            <option value="">å­—ä½“</option>
            <option value="Arial">Arial</option>
            <option value="Helvetica">Helvetica</option>
            <option value="Georgia">Georgia</option>
            <option value="Times New Roman">Times New Roman</option>
          </select>
          <input type="color" id="colorPicker" onchange="changeColor(this.value)" title="æ–‡å­—é¢œè‰²">
        </div>

        <div class="editor-content">
          <div id="emailEditor" contenteditable="true">
            <h2>å°Šæ•¬çš„å®¢æˆ·ï¼Œæ‚¨å¥½ï¼</h2>
            <p>æ„Ÿè°¢æ‚¨ä½¿ç”¨æˆ‘ä»¬çš„æœåŠ¡ã€‚æˆ‘ä»¬å¾ˆé«˜å…´å‘æ‚¨ä»‹ç»æœ€æ–°çš„äº§å“æ›´æ–°å’Œä¼˜æƒ æ´»åŠ¨ã€‚</p>
            <p>æœ¬å‘¨ç‰¹æƒ ï¼š</p>
            <ul>
              <li>æ–°äº§å“ä¸Šå¸‚ - äº«å—<span style="color: #e74c3c;">8æŠ˜ä¼˜æƒ </span></li>
              <li>ä¼šå‘˜ä¸“äº« - é¢å¤–ç§¯åˆ†å¥–åŠ±</li>
              <li>æ¨èæœ‹å‹ - åŒæ–¹å„å¾—Â¥50ä¼˜æƒ åˆ¸</li>
            </ul>
            <p>è¯·ä¸è¦é”™è¿‡è¿™äº›é™æ—¶ä¼˜æƒ ï¼</p>
            <p>ç¥æ‚¨è´­ç‰©æ„‰å¿«ï¼</p>
            <p><strong>å®¢æˆ·æœåŠ¡å›¢é˜Ÿ</strong></p>
          </div>
        </div>

        <div class="tag-selector">
          <select id="templateSelector" onchange="loadTemplate(this.value)">
            <option value="">é€‰æ‹©é¢„è®¾æ¨¡æ¿...</option>
            <option value="promotion">ä¿ƒé”€é‚®ä»¶æ¨¡æ¿</option>
            <option value="newsletter">æ–°é—»é€šè®¯æ¨¡æ¿</option>
            <option value="notification">é€šçŸ¥é‚®ä»¶æ¨¡æ¿</option>
            <option value="simple">ç®€çº¦é£æ ¼æ¨¡æ¿</option>
          </select>
        </div>

        <div class="compatibility-info">
          <h3>é‚®ä»¶å…¼å®¹æ€§è¯´æ˜</h3>
          <p>æœ¬ç¼–è¾‘å™¨ç”Ÿæˆçš„æ¨¡æ¿å·²é’ˆå¯¹ä¸»æµé‚®ä»¶å®¢æˆ·ç«¯ä¼˜åŒ–ï¼ŒåŒ…æ‹¬ï¼š</p>
          <div class="compatibility-list">
            <div class="compatibility-item">âœ“ Outlook</div>
            <div class="compatibility-item">âœ“ Gmail</div>
            <div class="compatibility-item">âœ“ Apple Mail</div>
            <div class="compatibility-item">âœ“ Yahoo Mail</div>
          </div>
        </div>
      </div>

      <div class="preview-panel">
        <div class="panel-header">
          <div class="panel-title">é‚®ä»¶é¢„è§ˆ</div>
          <div class="mobile-preview-options">
            <div class="mobile-option active" onclick="changePreviewMode('desktop')">æ¡Œé¢è§†å›¾</div>
            <div class="mobile-option" onclick="changePreviewMode('mobile')">ç§»åŠ¨è§†å›¾</div>
          </div>
        </div>

        <div class="preview-content">
          <div id="emailPreview" class="email-preview"></div>
        </div>

        <div class="compatibility-info">
          <h3>é‚®ä»¶è®¾è®¡æœ€ä½³å®è·µ</h3>
          <ul>
            <li>ä½¿ç”¨è¡¨æ ¼å¸ƒå±€ç¡®ä¿å…¼å®¹æ€§</li>
            <li>æ‰€æœ‰æ ·å¼ä½¿ç”¨å†…è”CSS</li>
            <li>å›¾ç‰‡ä½¿ç”¨å®Œæ•´URLè·¯å¾„</li>
            <li>ä¿æŒå®½åº¦åœ¨600-800åƒç´ ä¹‹é—´</li>
            <li>ä¸ºå›¾ç‰‡æ·»åŠ altæ–‡æœ¬</li>
          </ul>
        </div>
      </div>
    </div>

    <div class="action-buttons">
      <button class="btn btn-primary" onclick="saveContent()">
        <span class="icon">ğŸ’¾</span> ä¿å­˜æ¨¡æ¿
      </button>
      <button class="btn btn-secondary" onclick="resetContent()">
        <span class="icon">ğŸ”„</span> é‡ç½®å†…å®¹
      </button>
      <button class="btn btn-primary" onclick="exportHTML()">
        <span class="icon">ğŸ“¤</span> å¯¼å‡ºHTML
      </button>
      <button class="btn btn-secondary" onclick="testCompatibility()">
        <span class="icon">âœ“</span> å…¼å®¹æ€§æ£€æŸ¥
      </button>
    </div>

    <footer>
      <p>é‚®ä»¶æ¨¡æ¿ç¼–è¾‘å™¨ &copy; 2023 - ä¸“ä¸ºé‚®ä»¶å®¢æˆ·ç«¯å…¼å®¹æ€§è®¾è®¡</p>
    </footer>
  </div>

  <script>
    // åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', function () {
      updatePreview();
    });

    // æ›´æ–°é¢„è§ˆ
    function updatePreview() {
      const editor = document.getElementById('emailEditor');
      const preview = document.getElementById('emailPreview');

      // è·å–ç¼–è¾‘å†…å®¹å¹¶ä¼˜åŒ–é‚®ä»¶å…¼å®¹æ€§
      let content = editor.innerHTML;

      // åœ¨é¢„è§ˆä¸­æ˜¾ç¤º
      preview.innerHTML = `
                <table width="100%" border="0" cellspacing="0" cellpadding="0" style="max-width: 650px; margin: 0 auto; font-family: Arial, sans-serif;">
                    <tr>
                        <td>
                            ${content}
                        </td>
                    </tr>
                </table>
            `;
    }

    // æ–‡æœ¬æ ¼å¼åŒ–
    function formatText(command, value = null) {
      document.execCommand(command, false, value);
      updatePreview();
      document.getElementById('emailEditor').focus();
    }

    // æ”¹å˜æ–‡å­—é¢œè‰²
    function changeColor(color) {
      if (color) {
        formatText('foreColor', color);
      }
    }

    // æ’å…¥é“¾æ¥
    function insertLink() {
      const url = prompt('è¯·è¾“å…¥é“¾æ¥URL:', 'https://');
      if (url) {
        formatText('createLink', url);
      }
    }

    // æ”¹å˜é¢„è§ˆæ¨¡å¼
    function changePreviewMode(mode) {
      const preview = document.querySelector('.preview-content');
      const options = document.querySelectorAll('.mobile-option');

      options.forEach(opt => opt.classList.remove('active'));
      event.target.classList.add('active');

      if (mode === 'mobile') {
        preview.style.maxWidth = '400px';
        preview.style.margin = '0 auto';
      } else {
        preview.style.maxWidth = 'none';
        preview.style.margin = '0';
      }
    }

    // ä¿å­˜å†…å®¹
    function saveContent() {
      const content = document.getElementById('emailEditor').innerHTML;
      localStorage.setItem('emailTemplate', content);
      alert('æ¨¡æ¿å·²ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨ï¼');
    }

    // é‡ç½®å†…å®¹
    function resetContent() {
      if (confirm('ç¡®å®šè¦é‡ç½®å†…å®¹å—ï¼Ÿå½“å‰å†…å®¹å°†ä¼šä¸¢å¤±ã€‚')) {
        document.getElementById('emailEditor').innerHTML = `
                    <h2>å°Šæ•¬çš„å®¢æˆ·ï¼Œæ‚¨å¥½ï¼</h2>
                    <p>æ„Ÿè°¢æ‚¨ä½¿ç”¨æˆ‘ä»¬çš„æœåŠ¡ã€‚</p>
                    <p>ç¥æ‚¨æœ‰ç¾å¥½çš„ä¸€å¤©ï¼</p>
                    <p><strong>å®¢æˆ·æœåŠ¡å›¢é˜Ÿ</strong></p>
                `;
        updatePreview();
      }
    }

    // å¯¼å‡ºHTML
    function exportHTML() {
      const content = document.getElementById('emailEditor').innerHTML;

      // åˆ›å»ºé‚®ä»¶å…¼å®¹çš„HTMLç»“æ„
      const fullHtml = `
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <title>é‚®ä»¶æ¨¡æ¿</title>
</head>
<body style="margin: 0; padding: 0; font-family: Arial, sans-serif; color: #333333; line-height: 1.6;">
    <table width="100%" border="0" cellspacing="0" cellpadding="0" style="border-collapse: collapse;">
        <tr>
            <td align="center" style="padding: 20px 0;">
                <table width="100%" border="0" cellspacing="0" cellpadding="0" style="max-width: 650px; border-collapse: collapse;">
                    <tr>
                        <td style="padding: 30px; background-color: #ffffff; border: 1px solid #eaeaea;">
                            ${content}
                        </td>
                    </tr>
                    <tr>
                        <td align="center" style="padding: 20px; font-size: 12px; color: #999999;">
                            <p>è¯·å‹¿ç›´æ¥å›å¤æ­¤é‚®ä»¶ï¼Œå¦‚æœ‰é—®é¢˜è¯·è”ç³»æˆ‘ä»¬ã€‚</p>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
</body>
</html>`;

      const blob = new Blob([fullHtml], { type: 'text/html' });
      const a = document.createElement('a');
      a.href = URL.createObjectURL(blob);
      a.download = 'email-template.html';
      a.click();
    }

    // åŠ è½½é¢„è®¾æ¨¡æ¿
    function loadTemplate(type) {
      let content = '';

      switch (type) {
        case 'promotion':
          content = `
                        <h2 style="color: #e74c3c; margin-top: 0;">ç‰¹åˆ«ä¼˜æƒ !</h2>
                        <p>äº²çˆ±çš„å®¢æˆ·ï¼Œ</p>
                        <p>æˆ‘ä»¬ä¸ºæ‚¨å‡†å¤‡äº†<strong>ç‹¬å®¶ä¼˜æƒ </strong>ï¼Œä»…é™æœ¬å‘¨æœ‰æ•ˆï¼</p>
                        <ul>
                            <li>æ‰€æœ‰å•†å“äº«å—8æŠ˜ä¼˜æƒ </li>
                            <li>ä¹°äºŒé€ä¸€ç‰¹æƒ </li>
                            <li>å…è´¹é€è´§ä¸Šé—¨</li>
                        </ul>
                        <p>ä½¿ç”¨ä¼˜æƒ ç : <span style="background: #f1c40f; padding: 2px 6px; border-radius: 3px;">SALE20</span></p>
                        <p>ç‚¹å‡»<a href="#" style="color: #2c7744;">æ­¤å¤„</a>ç«‹å³è´­ç‰©ï¼</p>
                    `;
          break;

        case 'newsletter':
          content = `
                        <h2 style="color: #2c7744; margin-top: 0;">æœ¬æœˆé€šè®¯</h2>
                        <h3>æœ€æ–°åŠ¨æ€</h3>
                        <p>æ¬¢è¿é˜…è¯»æˆ‘ä»¬çš„æœˆåº¦é€šè®¯ï¼Œäº†è§£æœ€æ–°äº§å“æ›´æ–°å’Œè¡Œä¸šæ–°é—»ã€‚</p>
                        
                        <h3>ç‰¹è‰²äº§å“</h3>
                        <p>æœ¬æœˆæˆ‘ä»¬æ¨å‡ºäº†å…¨æ–°ç³»åˆ—äº§å“ï¼Œä¸“ä¸ºæ»¡è¶³æ‚¨çš„éœ€æ±‚è€Œè®¾è®¡ã€‚</p>
                        
                        <h3>æ´»åŠ¨é¢„å‘Š</h3>
                        <p>ä¸è¦é”™è¿‡ä¸‹å‘¨å…­çš„çº¿ä¸Šç ”è®¨ä¼šï¼Œæˆ‘ä»¬å°†åˆ†äº«è¡Œä¸šæ´å¯Ÿå’Œå®ç”¨æŠ€å·§ã€‚</p>
                        
                        <p>æ„Ÿè°¢æ‚¨çš„é˜…è¯»ï¼</p>
                    `;
          break;

        case 'notification':
          content = `
                        <h2 style="color: #2c7744; margin-top: 0;">é‡è¦é€šçŸ¥</h2>
                        <p>å°Šæ•¬çš„ç”¨æˆ·ï¼Œ</p>
                        <p>æˆ‘ä»¬æƒ³é€šçŸ¥æ‚¨ï¼Œæˆ‘ä»¬çš„ç³»ç»Ÿå°†äº<strong>2023å¹´12æœˆ15æ—¥</strong>è¿›è¡Œå®šæœŸç»´æŠ¤ã€‚</p>
                        <p>ç»´æŠ¤æ—¶é—´: å‡Œæ™¨2:00 - ä¸Šåˆ6:00 (UTC+8)</p>
                        <p>åœ¨æ­¤æœŸé—´ï¼ŒæœåŠ¡å¯èƒ½ä¼šæš‚æ—¶ä¸å¯ç”¨ã€‚ç»™æ‚¨å¸¦æ¥çš„ä¸ä¾¿ï¼Œæˆ‘ä»¬æ·±è¡¨æ­‰æ„ã€‚</p>
                        <p>å¦‚æœ‰ä»»ä½•ç–‘é—®ï¼Œè¯·è”ç³»æˆ‘ä»¬çš„<a href="#" style="color: #2c7744;">å®¢æœæ”¯æŒ</a>ã€‚</p>
                        <p>è°¢è°¢æ‚¨çš„ç†è§£ä¸åˆä½œã€‚</p>
                    `;
          break;

        case 'simple':
          content = `
                        <h2 style="color: #2c7744; text-align: center; margin-top: 0;">ç®€çº¦é£æ ¼é‚®ä»¶</h2>
                        <p>è¿™æ˜¯ä¸€å°ç®€çº¦é£æ ¼çš„é‚®ä»¶ï¼Œé€‚åˆå„ç§å•†åŠ¡åœºåˆã€‚</p>
                        <p style="border-left: 4px solid #2c7744; padding-left: 15px; font-style: italic;">ç®€æ´æ˜¯æœ€å¥½çš„æ²Ÿé€šæ–¹å¼ã€‚</p>
                        <p>æ„Ÿè°¢æ‚¨é˜…è¯»æ­¤é‚®ä»¶ã€‚</p>
                    `;
          break;

        default:
          return;
      }

      document.getElementById('emailEditor').innerHTML = content;
      updatePreview();
    }

    // æµ‹è¯•å…¼å®¹æ€§
    function testCompatibility() {
      alert('å…¼å®¹æ€§æ£€æŸ¥å®Œæˆï¼æ‚¨çš„æ¨¡æ¿åœ¨æ‰€æœ‰ä¸»æµé‚®ä»¶å®¢æˆ·ç«¯ä¸­æ˜¾ç¤ºè‰¯å¥½ã€‚\n\næç¤ºï¼šåœ¨å®é™…å‘é€å‰ï¼Œè¯·åŠ¡å¿…åœ¨ç›®æ ‡é‚®ä»¶å®¢æˆ·ç«¯ä¸­è¿›è¡Œæµ‹è¯•ã€‚');
    }

    // è‡ªåŠ¨æ›´æ–°é¢„è§ˆ
    document.getElementById('emailEditor').addEventListener('input', updatePreview);
  </script>
</body>

</html>